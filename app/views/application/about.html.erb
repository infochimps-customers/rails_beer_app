<% title "Infochimps Beer App" %>

<div class="about">
  <div class="image">
    <a href="http://www.infochimps.com"><img src="/images/infochimps-logo.png" width="225px" /></a>
  </div>
  <div class="explanation">
    <p>Infochimps is a place to find data that can be read by both people and machines. We seek to help developers, analysts and researchers find, share and sell this data. It is available in a <a href="http://www.infochimps.com/datasets">downloadable format</a> they can host themselves, as well as a hosted format they can access with an <a href="http://www.infochimps.com/apis">API key</a>.
  </div>
</div>

<h2>What is this?</h2>
<p>This website is a toy version of an ecommerce site.  We're trying to sell beer online and we'll use the Infochimps API to iterate on how we present our catalog.</p>

<p>You can access the various pages of this site at any time using the navigation bar at the top right.  It has the following links:</p>

<ul>
  <li><b>About</b>: This page.</li>
  <li><b>V1</b>: Version 1 of the homepage.  A default beer is shown.</li>
  <li><b>V2</b>: Version 2 of the homepage.  We try to show you a beer made near your current location</li>
  <li><b>V3</b>: Version 3 of the homepage.  We try to determine whether or not you should receive a discount based on how important you are on Twitter.</li>
  <li><b>V4</b>: Version 4 of the homepage.  We show bars near your current location.</li>
  <li><b>Admin</b>: An internal page to help employees of this beer store learn about their customers.</li>
</ul>

<h2>How does it work?</h2>
<p>This website is a Ruby on Rails application.  You can find the complete source code on <a target="_blank" href="http://github.com/infochimps/rails_beer_app">GitHub</a>.

<p>You can find a list of all the APIs used in this application at <a href="http://www.infochimps.com/tags/beer_app">Infochimps</a>.</p>

<p>If you don't already have your own Infochimps API key you can <a href="http://www.infochimps.com/signup">sign up</a> for an account and get one.  In the meantime you can use the following key, created especially for this demo app:</p>

<p class="url">demo_apps-3RSa-boH1d5lb9awYqyWLgH3A69</p>

<div class="params">
  <p>You can simulate a visit from a particular IP address by passing the <tt>ip</tt> parameter in the URL.  You can simulate a visit from a particular Twitter user by passing the <tt>twitter</tt> parameter in the URL.</p>
  <p class="url">http://beer.infochimps.com/homepage/v3?<b>ip</b>=92.131.1.255&<b>twitter</b>=barackobama</span>
  <table border="1" class="ips">
    <tr>
      <th>City</th>
      <th>Sample IP</th>
    </tr>
    <tr><td>Fort Collins, CO</td><td>192.131.1.26</td></tr>
    <tr><td>San Francisco, CA</td><td>173.204.115.234</td></tr>
    <tr><td>Burlington, VT</td><td>66.31.248.0</td></tr>
    <tr><td>Portland, OR</td><td>24.21.162.22</td></tr>
    <tr><td>Seattle, WA</td><td>12.17.135.111</td></tr>
    <tr><td>Austin, TX</td><td>209.198.148.0</td></tr>
    <tr><td>New York, NY</td><td>64.90.182.55</td></tr>
    <tr><td>New Orleans, LA</td><td>141.164.32.52</td></tr>
    <tr><td>Washington, DC</td><td>165.110.230.011</td></tr>    
  </table>

  <table border="1" class="twitters">
    <tr>
      <th>Discount</th>
      <th>Name</th>
      <th>Twitter</th>
      <th>TrstRank</th>
    </tr>
    <tbody>
      <tr><td rowspan="9">Free Beer!</td><td>Justin Bieber</td><td><%= link_to_twitter_profile('justinbieber') %></td><td>9</td></tr>
      <tr><td>Barack Obama </td><td><%= link_to_twitter_profile('barackobama') %></td><td>8.6</td></tr>
      <tr><td>Lance Armstrong</td><td><%= link_to_twitter_profile('lancearmstrong') %></td><td>8.1</td></tr>
      <tr><td>Kevin Rose</td><td><%= link_to_twitter_profile('kevinrose') %></td><td>7.8</td></tr>
      <tr><td>Kevin Smith</td><td><%= link_to_twitter_profile('thatkevinsmith') %></td><td>7.7</td></tr>
      <tr><td>Conan O'Brien</td><td><%= link_to_twitter_profile('conanobrien') %></td><td>7.6</td></tr>
      <tr><td>David Lynch</td><td><%= link_to_twitter_profile('davidlynch') %></td><td>6.9</td></tr>
      <tr><td>Arianna Huffington</td><td><%= link_to_twitter_profile('ariannahuff') %></td><td>6.3</td></tr>
      <tr><td>Bobby Jindal</td><td><%= link_to_twitter_profile('bobbyjindal') %></td><td>4.9</td></tr>
    </tbody>
    <tbody>
      <tr><td rowspan="14">Half Off!</td><td>Tim Besecker</td><td><%= link_to_twitter_profile('TimBesecker') %></td><td>2.4</td></tr>
      <tr><td>Ashley V Routson</td><td><%= link_to_twitter_profile('TheBeerWench') %></td><td>2.1</td></tr>
      <tr><td>Charlie Papazian</td><td><%= link_to_twitter_profile('CharliePapazian') %></td><td>2</td></tr>
      <tr><td>Beer Whore</td><td><%= link_to_twitter_profile('BeerWhore') %></td><td>1.75</td></tr>
      <tr><td>Flip Kromer</td><td><%= link_to_twitter_profile('mrflip') %></td><td>1.7</td></tr>
      <tr><td>Lee Williams</td><td><%= link_to_twitter_profile('Hoptopia') %></td><td>1.65</td></tr>
      <tr><td>Peter Kennedy</td><td><%= link_to_twitter_profile('SimplyBeer') %></td><td>1.4</td></tr>
      <tr><td>Ladies of Craft Beer</td><td><%= link_to_twitter_profile('LadiesOCB') %></td><td>1.35</td></tr>
      <tr><td>Mark Dredge</td><td><%= link_to_twitter_profile('markdredge') %></td><td>1.3</td></tr>
      <tr><td>Winnie Hsia</td><td><%= link_to_twitter_profile('misswinnie') %></td><td>1.3</td></tr>
      <tr><td>Josh, Dave, & Tommy</td><td><%= link_to_twitter_profile('theBrewFanatics') %></td><td>1.25</td></tr>
      <tr><td>Kristina Simpson</td><td><%= link_to_twitter_profile('hopmonkey') %></td><td>1.1</td></tr>
      <tr><td>Steve Odom</td><td><%= link_to_twitter_profile('steveodom') %></td><td>1.1</td></tr>
      <tr><td>Nick Ducoff</td><td><%= link_to_twitter_profile('nickducoff') %></td><td>1</td></tr>
    </tbody>
    <tbody>
      <tr><td rowspan="4">Nothing!</td><td>Justin Boswell</td><td><%= link_to_twitter_profile('TheBrewDude') %></td><td>0.85</td></tr>
      <tr><td>Lee Nichols</td><td><%= link_to_twitter_profile('ILoveBeerBlog') %></td><td>0.7</td></tr>
      <tr><td>Dhruv Bansal</td><td><%= link_to_twitter_profile('dhruvbansal') %></td><td>0.55</td></tr>
      <tr><td>Jacob Perkins</td><td><%= link_to_twitter_profile('thedatachef') %></td><td>0.3</td></tr>      
    </tbody>
  </table>

</div>

